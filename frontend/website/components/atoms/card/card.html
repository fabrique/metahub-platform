{% import 'components/atoms/picture/picture.html' as atom_picture %}

{% macro story(
  classes = '',
  title = '',
  picture = {},
  theme_color = '',
  aria_label = '',
  href = '',
  label = '',
  type = ''
) %}
  {% set component = 'card__story' %}
  <div class="{{ component }} {{ classes }} {{ theme_color }}">
    <a
      title="{{ title }}"
      role="link"
      alt="{{ title }}"
      href="{{ href }}"
      aria-label="{{ aria_label }}"
      class="{{ component }}__inner"
    >
      <span class="{{ component }}__picture-wrapper">

        {% if picture.images and picture.images == 'placeholders' %}
          {# Image ratio: free  #}
          {{ object_replace_value(picture, 'images', 'placeholders', generate_placeholders({ mobile: '530x353', portrait: '530x353', landscape: '266x177', notebook: '394x262', desktop: '494x329' })) }}
        {% endif %}

        {{ atom_picture.regular(
          images = picture.images,
          fits = picture.fits,
          classes = component + '__picture',
          positions = picture.positions,
          width = picture.width,
          height = picture.height,
          loading = picture.loading,
          alt = picture.alt
        ) }}
      </span>
      <p class="{{ component }}__content-wrapper">
        <span class="{{ component }}__content-wrapper__inner">
          <span class="{{ component }}__label">{{ label }}</span>
          <strong class="{{ component }}__title">{{ title }}</strong>
        </span>
      </p>
    </a>
  </div>
{% endmacro %}

{% macro object(
  classes = '',
  title = '',
  picture = {},
  aria_label = '',
  theme_color = '',
  href = '',
  subtitle = '',
  label = '',
  type = ''
) %}
  {% set component = 'card__object' %}
  <div class="{{ component }} {{ classes }} {{ theme_color }}">
    <a
      title="{{ title }}"
      role="link"
      aria-label="{{ aria_label }}"
      alt="{{ title }}"
      href="{{ href }}"
      class="{{ component }}__inner"
    >
      <span class="{{ component }}__picture-wrapper">
        <span class="{{ component }}__picture-wrapper__inner">
          {% if picture.images and picture.images == 'placeholders' %}
            {# Image ratio: free (portrait 2:3 preferred) #}
            {{ object_replace_value(picture, 'images', 'placeholders', generate_placeholders({ mobile: '530x943', portrait: '530x795', landscape: '266x399', notebook: '394x591', desktop: '494x741' })) }}
          {% endif %}

          {{ atom_picture.regular(
            images = picture.images,
            fits = picture.fits,
            classes = component + '__picture',
            positions = picture.positions,
            width = picture.width,
            height = picture.height,
            loading = picture.loading,
            alt = picture.alt
          ) }}
        </span>
      </span>
      <p class="{{ component }}__content-wrapper">
        <span class="{{ component }}__content-wrapper__inner">
          <span class="{{ component }}__label">{{ label }}</span>
          <strong class="{{ component }}__title">{{ title }}</strong>
          <span class="{{ component }}__subtitle">{{ subtitle }}</span>
        </span>
      </p>
    </a>
  </div>
{% endmacro %}


{% macro news(
  classes = '',
  href = '',
  title = '',
  picture = {},
  theme_color = '',
  label = '',
  excerpt = '',
  type = '',
  date = '',
  width = '',
  height = ''
) %}
  {% set component = 'card__news' %}
  <div class="{{ component }} {{ classes }} {{ theme_color }}">
    <a
      title="{{ title }}"
      role="link"
      alt="{{ title }}"
      href="{{ href }}"
      aria-label="{{ aria_label }}"
      class="{{ component }}__inner"
    >
      <span class="{{ component }}__picture-wrapper">
        {% if picture.images and picture.images == 'placeholders' %}
          {# Image ratio: landscape (landscape 3:2 ) #}
          {{ object_replace_value(picture, 'images', 'placeholders', generate_placeholders({ mobile: '530x353', portrait: '530x353', landscape: '266x177', notebook: '394x262', desktop: '494x329' })) }}
        {% endif %}

        {{ atom_picture.regular(
          images = picture.images,
          fits = picture.fits,
          classes = component + '__picture',
          positions = picture.positions,
          width = picture.width,
          height = picture.height,
          loading = picture.loading,
          alt = picture.alt
        ) }}
      </span>
      <p class="{{ component }}__content-wrapper">
        <span class="{{ component }}__label">{{ label }}</span>
        <strong class="{{ component }}__title">{{ title }}</strong>
        <span class="{{ component }}__excerpt">{{ excerpt }}</span>
        <span class="{{ component }}__date">{{ date }}</span>
      </p>
    </a>
  </div>
{% endmacro %}
