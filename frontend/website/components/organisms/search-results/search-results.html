
{% import 'components/molecules/card/card.html' as molecule_card %}
{% import 'components/molecules/object-card/object-card.html' as molecule_object_card %}
{% import 'components/molecules/filters/filters.html' as molecule_filters %}

{% macro regular(id = '', results = [], result_count = '', dropdowns=[], no_results=false, search_query=false, search_filters=false) %}
  <div {% if id %}id="{{ id }}"{% endif %} class="search-results">
    {{ molecule_filters.regular(dropdowns=dropdowns, classes = 'search-results__filters', button_text = 'Filter einblenden', button_text_long = 'Filter einblenden')}}

    <div class="search-results__grid-container">
      <div class="search-results__information-container">
       <div class="search-results__total-results">
        <p>
          {{ result_count }}
          {% if search_query %}zu <span class="search-results__results-search-term"></span>{% endif %}
          {% if search_query and search_filters %},{% endif %}
          <span class="search-results__results-active-filters"></span>
        </p>

        {% if no_results %}
          <div class="search-results__results-none-found">
            <h2>Leider haben wir nichts gefunden. Sehen Sie sich stattdessen unsere Highlights der Sammlung an.</h2>
          </div>
        {% elif show_highlights %}
          <div>
            <h2>Highlights der Sammlung</h2>
          </div>
        {% endif %}
      </div>
    </div>

    {# MOBILE #}
    <ul class="search-results__grid-column-mobile">
      {% for result in results %}
        {% if result.variant == 'object' %}
          <li class="search-results__results-item">
            {{ molecule_object_card.regular(classes = 'search-results__object-card', title = result.title, name = result.name, type = result.type, date = result.date, picture = result.picture, href = result.href) }}
          </li>
        {% else %}
          <li class="search-results__results-item">
            {{ molecule_card.regular(classes = 'search-results__card', href = result.href, target = result.target, title = result.title, type = result.type, picture = result.picture, color = result.color) }}
          </li>
        {% endif %}
      {% endfor %}
    </ul>

    {# TABLET #}
    <ul class="search-results__grid-column-tablet">
      {% for result in results %}
        {% if loop.index % 2 == 1 %}
          {% if result.variant == 'object' %}
            <li class="search-results__results-item">
              {{ molecule_object_card.regular(classes = 'search-results__object-card', title = result.title, name = result.name, type = result.type, date = result.date, picture = result.picture, href = result.href) }}
            </li>
          {% else %}
            <li class="search-results__results-item">
              {{ molecule_card.regular(classes = 'search-results__card', href = result.href, target = result.target, title = result.title, type = result.type, picture = result.picture, color = result.color) }}
            </li>
          {% endif %}
        {% endif %}
      {% endfor %}
    </ul>

    <ul class="search-results__grid-column-tablet">
      {% for result in results %}
         {% if loop.index % 2 == 0 %}
          {% if result.variant == 'object' %}
            <li class="search-results__results-item">
              {{ molecule_object_card.regular(classes = 'search-results__object-card', title = result.title, name = result.name, type = result.type, date = result.date, picture = result.picture, href = result.href) }}
            </li>
          {% else %}
            <li class="search-results__results-item">
              {{ molecule_card.regular(classes = 'search-results__card', href = result.href, target = result.target, title = result.title, type = result.type, picture = result.picture, color = result.color) }}
            </li>
          {% endif %}
        {% endif %}
      {% endfor %}
    </ul>

    {# DESKTOP #}
    <ul class="search-results__grid-column">
      {% for result in results %}
        {% if loop.index % 3 == 1 %}
          {% if result.variant == 'object' %}
            <li class="search-results__results-item">
              {{ molecule_object_card.regular(classes = 'search-results__object-card', title = result.title, name = result.name, type = result.type, date = result.date, picture = result.picture, href = result.href) }}
            </li>
          {% else %}
            <li class="search-results__results-item">
              {{ molecule_card.regular(classes = 'search-results__card', href = result.href, target = result.target, title = result.title, type = result.type, picture = result.picture, color = result.color) }}
            </li>
          {% endif %}
        {% endif %}
      {% endfor %}
    </ul>

    <ul class="search-results__grid-column">
      {% for result in results %}
        {% if loop.index % 3 == 2 %}
          {% if result.variant == 'object' %}
            <li class="search-results__results-item">
              {{ molecule_object_card.regular(classes = 'search-results__object-card', title = result.title, name = result.name, type = result.type, date = result.date, picture = result.picture, href = result.href) }}
            </li>
          {% else %}
            <li class="search-results__results-item">
              {{ molecule_card.regular(classes = 'search-results__card', href = result.href, target = result.target, title = result.title, type = result.type, picture = result.picture, color = result.color) }}
            </li>
          {% endif %}
        {% endif %}
      {% endfor %}
    </ul>

    <ul class="search-results__grid-column">
     {% for result in results %}
        {% if loop.index % 3 == 0 %}
          {% if result.variant == 'object' %}
            <li class="search-results__results-item">
              {{ molecule_object_card.regular(classes = 'search-results__object-card', title = result.title, name = result.name, type = result.type, date = result.date, picture = result.picture, href = result.href) }}
            </li>
          {% else %}
            <li class="search-results__results-item">
              {{ molecule_card.regular(classes = 'search-results__card', href = result.href, target = result.target, title = result.title, type = result.type, picture = result.picture, color = result.color) }}
            </li>
          {% endif %}
        {% endif %}
      {% endfor %}
    </ul>
  </div>
{% endmacro%}
